# =============================================================================
# Maintenance Configuration File for CEX Arbitrage System
# =============================================================================
# This file contains configuration settings for automated maintenance scripts

# Database connection settings
DB_HOST="localhost"
DB_PORT="5432"
DB_NAME="arbitrage_data"
DB_USER="arbitrage_user"
DB_PASSWORD=""  # Set this or use environment variable

# Maintenance thresholds
DISK_USAGE_THRESHOLD=85      # Trigger cleanup at 85% disk usage
DB_SIZE_THRESHOLD_GB=8       # Trigger cleanup at 8GB database size
DOCKER_SIZE_THRESHOLD_GB=10  # Trigger Docker cleanup at 10GB

# Emergency thresholds (automatic emergency mode)
EMERGENCY_DISK_THRESHOLD=95  # Emergency mode at 95% disk usage
EMERGENCY_DB_THRESHOLD=12    # Emergency mode at 12GB database size

# Retention settings for emergency cleanup
EMERGENCY_RETENTION_HOURS=12 # Hours of data to keep in emergency mode
EMERGENCY_L2_RETENTION_HOURS=6 # Hours for L2 data (orderbook_depth, trades)

# Docker settings
DOCKER_ROOT="/var/lib/docker"
PRESERVE_CONTAINERS="arbitrage_db"  # Containers to never stop

# Logging settings
LOG_RETENTION_DAYS=7         # Keep maintenance logs for 7 days
LOG_MAX_SIZE_MB=100         # Rotate logs when they exceed 100MB

# Notification settings (for future implementation)
ALERT_EMAIL=""              # Email for critical alerts
SLACK_WEBHOOK=""            # Slack webhook for notifications
TELEGRAM_BOT_TOKEN=""       # Telegram bot for alerts
TELEGRAM_CHAT_ID=""         # Telegram chat ID

# Maintenance windows (UTC times)
MAINTENANCE_START_HOUR=2    # Start maintenance at 2 AM UTC
MAINTENANCE_END_HOUR=4      # End maintenance window at 4 AM UTC
ALLOW_EMERGENCY_ANYTIME=true # Allow emergency maintenance outside window

# Performance settings
VACUUM_COST_DELAY=20        # PostgreSQL vacuum_cost_delay setting
VACUUM_COST_LIMIT=200       # PostgreSQL vacuum_cost_limit setting
MAX_PARALLEL_WORKERS=2      # Max parallel workers for maintenance

# Compression settings
COMPRESSION_DELAY_HOURS=2   # Compress chunks after 2 hours
COMPRESSION_BATCH_SIZE=10   # Process chunks in batches of 10

# Monitoring settings
HEALTH_CHECK_INTERVAL=300   # Health check every 5 minutes
METRICS_RETENTION_DAYS=30   # Keep monitoring metrics for 30 days